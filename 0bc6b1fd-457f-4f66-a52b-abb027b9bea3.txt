Sep 09 2024 12:30:13 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Starting agent session with event details: {'client_name': 'CLI', 'deployment_mode': 'self_hosted', 'agent_config_instance_id': 'N/A', 'agent_instance_name': 'BITO SELF HOSTED', 'client_version': '', 'agent_name': 'BitoCRA', 'agent_version': '3.0.8', 'bee_version': '1.4', 'bito_schema_version': '1.3'} for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3
Sep 09 2024 12:30:13 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Api call to tracking event, payload: {'wsId': None, 'details': '{"client_name": "CLI", "deployment_mode": "self_hosted", "agent_config_instance_id": "N/A", "agent_instance_name": "BITO SELF HOSTED", "client_version": "", "agent_name": "BitoCRA", "agent_version": "3.0.8", "bee_version": "1.4", "bito_schema_version": "1.3", "agent_session_state": "STARTED"}', 'type': 'agent_session_started', 'requestId': 'eb6a50e0-bbd5-411a-b851-791518bd67ff', 'sessionId': '0bc6b1fd-457f-4f66-a52b-abb027b9bea3', 'userId': None}
Sep 09 2024 12:30:24 ERROR  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Failed to pull details from api_response to set in Context Expecting value: line 1 column 1 (char 0)
Sep 09 2024 12:30:24 ERROR  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Failed to start session for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3 with status: 403
Sep 09 2024 12:30:24 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Due to session start failure for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3, triggering session end event
Sep 09 2024 12:30:24 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: calculating tokens consumed for all ai request: {}
Sep 09 2024 12:30:24 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Api call to tracking event, payload: {'wsId': None, 'details': '{"client_name": "CLI", "deployment_mode": "self_hosted", "agent_config_instance_id": "N/A", "agent_instance_name": "BITO SELF HOSTED", "client_version": "", "agent_name": "BitoCRA", "agent_version": "3.0.8", "bee_version": "1.4", "bito_schema_version": "1.3", "session_id": "0bc6b1fd-457f-4f66-a52b-abb027b9bea3", "agent_action": "REVIEW_PR", "agent_session_status": "ERROR", "error_type": "OTHER", "url": "https://github.com/A4Joker/Bito_Test/pull/44", "total_chunks": 0, "num_files": 0, "total_loc": 0, "files_reviewed_general_review": 0, "files_reviewed_security_review": 0, "files_reviewed_performance_review": 0, "files_reviewed_scalability_review": 0, "files_reviewed_codestructure_review": 0, "files_reviewed_optimization_review": 0, "lines_reviewed_codestructure_review": 0, "lines_reviewed_general_review": 0, "lines_reviewed_security_review": 0, "lines_reviewed_performance_review": 0, "lines_reviewed_scalability_review": 0, "lines_reviewed_optimization_review": 0, "files_reviewed": 0, "lines_reviewed": 0, "suggestions_before_dedup_general_review": 0, "suggestions_after_dedup_general_review": 0, "suggestions_after_cleanup_general_review": 0, "issues_reported_general_review": 0, "suggestions_accepted_general_review": 0, "suggestions_before_dedup_performance_review": 0, "suggestions_after_dedup_performance_review": 0, "suggestions_after_cleanup_performance_review": 0, "issues_reported_performance_review": 0, "suggestions_accepted_performance_review": 0, "suggestions_before_dedup_scalability_review": 0, "suggestions_after_dedup_scalability_review": 0, "suggestions_after_cleanup_scalability_review": 0, "issues_reported_scalability_review": 0, "suggestions_accepted_scalability_review": 0, "suggestions_before_dedup_security_review": 0, "suggestions_after_dedup_security_review": 0, "suggestions_after_cleanup_security_review": 0, "issues_reported_security_review": 0, "suggestions_accepted_security_review": 0, "suggestions_before_dedup_optimization_review": 0, "suggestions_after_dedup_optimization_review": 0, "suggestions_after_cleanup_optimization_review": 0, "issues_reported_optimization_review": 0, "suggestions_accepted_optimization_review": 0, "suggestions_before_dedup_codestructure_review": 0, "suggestions_after_dedup_codestructure_review": 0, "suggestions_after_cleanup_codestructure_review": 0, "issues_reported_codestructure_review": 0, "suggestions_accepted_codestructure_review": 0, "suggestions_before_dedup": 0, "suggestions_after_dedup": 0, "suggestions_after_cleanup": 0, "num_code_suggestions": 0, "suggestions_accepted": 0, "num_issues_filtered_post_dedup": 0, "num_issues_filtered_post_cleanup": 0, "num_issues_filtered_other_importance": 0, "num_issues_filtered_wrong_line_range": 0, "num_general_reviews_zero_issues": 0, "num_issues": 0, "total_num_ai_requests": 0, "allotted_num_ai_requests": 0, "billed_num_ai_requests": 0, "ai_requests_general_review": 0, "ai_requests_performance_review": 0, "ai_requests_scalability_review": 0, "ai_requests_security_review": 0, "ai_requests_optimization_review": 0, "ai_requests_codestructure_review": 0, "total_tokens_general_review": 0, "total_tokens_performance_review": 0, "total_tokens_scalability_review": 0, "total_tokens_security_review": 0, "total_tokens_optimization_review": 0, "total_tokens_codestructure_review": 0, "total_tokens": 0, "context_tokens": 0, "prompt_tokens": 0, "output_tokens": 0, "codecontext_tokens": 0, "start_time_stamp": "09-09-2024 12:30:24", "end_time_stamp": "09-09-2024 12:30:24", "command_name": "", "files_before_dedup": 0, "agent_session_skip_reason": "", "pr_created_at": null, "ide_context_type": null, "agent_session_error": "Start Session Failed for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3", "agent_session_state": "ENDED"}', 'type': 'agent_session_ended', 'requestId': 'c4941944-6490-4375-83b8-c46c6311931e', 'sessionId': '0bc6b1fd-457f-4f66-a52b-abb027b9bea3', 'userId': None}
Sep 09 2024 12:30:24 ERROR  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Failed to end session for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3
Traceback (most recent call last):
  File "/automation-platform/pr-agent/src/tracker/event_tracker_service.py", line 137, in end_agent_session
  File "/automation-platform/pr-agent/src/tracker/event_tracker_service.py", line 158, in end_session
Sep 09 2024 12:30:24 ERROR  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Failed to start the session for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3
Sep 09 2024 12:30:24 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Get task details for provider: Provider.GIT command: bash /automation-platform/pr-agent/src/modules/git/scripts/git_module.sh get_tasks
Sep 09 2024 12:30:25 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Executing command for task: post_comment. command: bash /automation-platform/pr-agent/src/modules/git/scripts/git_module.sh post_comment /tmp/tmpapn47v_z
Sep 09 2024 12:30:27 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Result after executing(post_comment) for provider: Provider.GIT. output: b'{"output": [{"log_filename": "/tmp/git_module_yg7q4vd5.log", "comment_id": 2337996662}], "status": {"message": "Comment posted successfully", "code": 0}}\n'
Sep 09 2024 12:30:27 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Unable to fetch bee data, datatype: log for session: None, commands: None
Sep 09 2024 12:30:27 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Search CRA logs for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3
Sep 09 2024 12:30:27 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Total CRA logs found for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3: 14
Sep 09 2024 12:30:27 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Skipping the session end event for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3, is_session_started: False
Sep 09 2024 12:30:27 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Unable to fetch bee data, datatype: log for session: None, commands: None
Sep 09 2024 12:30:27 INFO  0bc6b1fd-457f-4f66-a52b-abb027b9bea3 [job::0bc6b1fd-457f-4f66-a52b-abb027b9bea3]: Search CRA logs for job_id: 0bc6b1fd-457f-4f66-a52b-abb027b9bea3
